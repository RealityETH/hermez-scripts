2023-04-07

Started the setup and tried sending funds

Edited contracts deploy test script to send funds to metamask address at 0x93aE36E02B15733E7b73895fAe2F5e26F8Acb3B0

Ran ssh forwarding script, added networks settings to metamask for test l1 and l2

Can see funds at
curl -H "Content-Type: application/json" -X POST --data '{"jsonrpc":"2.0","method":"eth_getBalance","params":["0x93aE36E02B15733E7b73895fAe2F5e26F8Acb3B0", "latest"],"id":1}' 127.0.0.1:8123
...and also in Metamask

Tried stopping and restarting
make stop
make restart

...this appears to clear out the previous state and start again (although metamask continues to show the balance)





Need to find where it gets
zkevm-mock-l1-network (hermeznetwork/geth-zkevm-contracts:v1.1.0-fork.4)

Should come from
Place to find this seems to be 
https://github.com/0xPolygonHermez/zkevm-contracts/issues/107

https://github.com/0xPolygonHermez/zkevm-contracts






# Different setup for docker and default
diff docker/scripts/deploy_parameters_docker.json deployment/deploy_parameters.json
# Check:
# - which of these if any is expected by the test scripts
# - If we do our own deploy, are these all the same or different
#


Check how HARDHAT_NETWORK works. Do we need to define it, does hardhat define it automatically or what?

The genesis creation script relies on hardhat imitating a sender. Does it work without doing that? Probably does, this seems like just a shortcut


What happens if we deploy the deployer twice? Probably can only happen once, the second time should be an invalid transaction (?) because of the way the keyless deploy works


Why doesn't 
npx hardhat run deployment/2_deployPolygonZKEVMDeployer.js --network localhost
seem to do anything?

# Some issue involving the solidity downloader which is giving up while trying to download and copy a file.
# Worked around it with 
# NB May need to create that directory
wget https://binaries.soliditylang.org/linux-amd64/list.json
cp list.json /home/ed/.cache/hardhat-nodejs/compilers-v2/linux-amd64/list.json




